{% extends "portal/base.html" %}
{% load timezone_tags static %}
{% block title %}Properties Â· AriStay Portal{% endblock %}

{% block extra_css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'css/pages/portal-property-list.css' %}">
{% endblock %}

{% block content %}
<div class="card">
  <div class="section-title">Select a property</div>
  <div class="grid cols-3">
    {% for card in properties %}
      <div class="card">
        <div class="portal-property-list-card-header">
            <div class="portal-property-list-name">{{ card.obj.name }}</div>
            <a class="button" href="{% url 'portal-property-detail' card.obj.id %}">Open</a>
        </div>
        {% if card.obj.address %}
          <div class="muted portal-property-list-address">{{ card.obj.address }}</div>
        {% endif %}
        <div class="portal-property-list-tags">
            <span class="tag">Current {{ card.current_count }}</span>
            <span class="tag">Future {{ card.future_count }}</span>
            <span class="tag">Past {{ card.past_count }}</span>
        </div>
      </div>
    {% empty %}
      <div class="muted">No properties available.</div>
    {% endfor %}
  </div>
  <div class="portal-property-list-admin-row">
    <a class="button" href="/admin/api/property/">Manage in Admin</a>
  </div>
</div>
{% endblock %}

