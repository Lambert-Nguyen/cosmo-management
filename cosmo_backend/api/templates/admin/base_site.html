{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | AriStay Administration{% endblock %}

{% block branding %}
<h1 id="site-name">
    <a href="{% url 'admin:index' %}">AriStay Administration</a>
</h1>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block header %}
<div id="header" class="aa-header">
    <div class="aa-header-inner">
        <div class="aa-brand">
            <img id="adminHeaderLogo" src="{% static 'images/aristay_logo.jpg' %}" alt="AriStay" class="aa-brand-logo">
            <div>
                <h1 id="site-name" class="aa-header-site-name">
                    <a href="{% url 'admin:index' %}">AriStay Administration</a>
                </h1>
                <p class="aa-header-subtitle">System Administration Console</p>
            </div>
        </div>

        <div class="aa-header-actions">
            <a href="/api/portal/" class="aa-header-link">
                <span class="aa-header-link-icon">üè†</span>
                <span>Portal Home</span>
            </a>

            <a href="/manager/" class="aa-header-link">
                <span class="aa-header-link-icon">üëî</span>
                <span>Manager</span>
            </a>

            <button id="menu-toggle" class="aa-menu-toggle" aria-label="Toggle menu" title="Open quick menu" type="button">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="6" x2="21" y2="6"/>
                    <line x1="3" y1="12" x2="21" y2="12"/>
                    <line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/theme-toggle.css' %}">
<link rel="stylesheet" href="{% static 'css/pages/admin-base-site.css' %}">
{% endblock %}

{% block extrahead %}
{{ block.super }}
<script src="{% static 'js/theme-toggle.js' %}"></script>
<script type="module" src="{% static 'js/pages/admin-base-site.js' %}"></script>

<!-- Side Menu Panel -->
<div id="side-menu" class="aa-side-menu">
    <div class="aa-side-menu-inner">
        <!-- Menu Header -->
        <div class="aa-menu-header">
            <div class="aa-menu-user">
                <img src="{% static 'images/aristay_logo.jpg' %}" 
                     alt="AriStay" 
                     class="aa-menu-logo">
                <div>
                    <h3 class="aa-menu-title">Quick Menu</h3>
                    <p class="aa-menu-subtitle">{{ user.get_full_name|default:user.username }}</p>
                </div>
            </div>
            <button id="close-menu" class="aa-menu-close" aria-label="Close menu" type="button">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>
        
        <!-- Quick Links -->
        <div class="aa-menu-links">
            <!-- View Site -->
            <a href="/" class="aa-menu-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9,22 9,12 15,12 15,22"/>
                </svg>
                <span class="aa-menu-link-label">View Site</span>
            </a>
            
            <!-- Change Password -->
            <a href="/admin/password_change/" class="aa-menu-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                    <circle cx="12" cy="16" r="1"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <span class="aa-menu-link-label">Change Password</span>
            </a>
            
            <!-- Dark Mode Toggle -->
            <div class="aa-menu-row">
                <div class="aa-menu-row-left">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <span class="aa-menu-row-label">Dark Mode</span>
                </div>
                <!-- Visible toggle switch -->
                <label class="aa-theme-switch">
                    <input id="theme-toggle-switch" type="checkbox" class="aa-theme-switch-input">
                    <span id="theme-toggle-thumb" class="aa-theme-switch-thumb"></span>
                </label>
                <!-- Hidden button (kept for JS compatibility) -->
                <button id="theme-toggle" class="is-hidden" type="button"></button>
            </div>
            
            <!-- Log Out -->
            <a href="/logout/" class="aa-menu-logout">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16,17 21,12 16,7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                <span class="aa-menu-link-label">Log Out</span>
            </a>
        </div>
    </div>
</div>

<!-- Overlay -->
<div id="menu-overlay" class="aa-menu-overlay"></div>

<!-- Hidden Sarcastic Message - Elegantly Concealed -->
<div id="aristay-secret-message" class="aa-secret-message is-hidden" aria-hidden="true">
    <div class="aa-secret-title">
        üé≠ A Message for the Curious Soul üé≠
    </div>
    <div class="aa-secret-body">Oh, have you no shame, dear friend of mine?
To strut about boldly, crossing the line?
With cheek so divine and nerve so grand,
You march unashamed through all the land.

What audacity fills your trembling soul,
To flaunt your misdeeds as your lofty goal?
No blush, no hint of modesty's flame,
Tell me truly, have you no shame?

You wear shameless acts like a badge of pride,
As if decency has left your side.
Oh, the gall, the nerve, the unabashed game‚Äî
Pray tell, dear friend, have you no shame?</div>
    <button type="button" data-action="admin-secret-close" class="aa-secret-close">‚ú® Close This Elegant Secret ‚ú®</button>
</div>

<!-- Secret Message Overlay -->
<div id="secret-message-overlay" class="aa-secret-overlay is-hidden" aria-hidden="true"></div>
{% endblock %}
